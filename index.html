<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf8">
	<title>Sudoku Generator</title>
	<style>
		body {
			text-align: center;
		}
		
		a {
			display: block;
			margin-top: 50px;
		}
	</style>
</head>
<body>
	<pre></pre><button></button>
	<a href="https://github.com/callumacrae/sudoku-creator">View code on GitHub</a>

	<script src="matrix.js"></script>
	<script src="sudoku.js"></script>
	<script>
		var button = document.getElementsByTagName('button')[0];
		var pre = document.getElementsByTagName('pre')[0];
		
		function refresh() {
			button.innerHTML = 'Generating';

			// We need a delay here to give the text time to change before
			// getSudoku blocks the browser.
			setTimeout(function () {
				pre.innerHTML = formatSudoku(getSudoku());
				button.innerHTML = 'Generate';
			}, 1);
		}
		button.addEventListener('click', refresh);
		$(refresh);
	</script>
</body>